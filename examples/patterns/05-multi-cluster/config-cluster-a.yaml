namespace: app-cluster-a

global_labels:
  cluster: cluster-a
  region: us-west
  environment: production

global_annotations:
  deployed-by: sbkube
  cluster-role: primary

apps:
  redis:
    type: helm
    chart: bitnami/redis
    version: "18.0.0"
    values:
      - values/redis-cluster-a.yaml
    labels:
      app: redis
      tier: cache
    enabled: true

  postgresql:
    type: helm
    chart: bitnami/postgresql
    version: "13.0.0"
    values:
      - values/postgresql-cluster-a.yaml
    labels:
      app: postgresql
      tier: database
    enabled: true

  nginx:
    type: helm
    chart: bitnami/nginx
    version: "15.0.0"
    values:
      - values/nginx-cluster-a.yaml
    depends_on:
      - redis
      - postgresql
    labels:
      app: nginx
      tier: frontend
    enabled: true
