description: 전체 CI/CD 파이프라인
name: full-ci-cd
steps:
- name: validate
  type: builtin
- name: test
  on_failure: stop
  script: pytest tests/
  type: script
- name: build
  type: builtin
- name: security-scan
  on_failure: continue
  script: bandit -r sbkube/
  type: script
- condition: env.get("ENVIRONMENT") == "production"
  name: deploy
  type: builtin
- name: smoke-test
  script: curl -f http://app.example.com/health
  timeout: 60
  type: script
version: '1.0'
