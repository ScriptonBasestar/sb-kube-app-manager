# SBKube Semantic Index
# Maps concepts/keywords to relevant documentation

concepts:
  # Product Vision & Value
  product_vision:
    keywords:
      - "제품"
      - "비전"
      - "목표"
      - "가치"
      - "문제 해결"
      - "product"
      - "vision"
      - "value"
      - "problem solving"
    documents:
      - "PRODUCT.md"
      - "docs/00-product/product-definition.md"
      - "docs/00-product/vision-roadmap.md"
    related_concepts:
      - "target_users"
      - "roadmap"
      - "success_metrics"

  # Target Users
  target_users:
    keywords:
      - "사용자"
      - "페르소나"
      - "DevOps"
      - "개발자"
      - "SRE"
      - "users"
      - "persona"
    documents:
      - "docs/00-product/target-users.md"
      - "docs/00-product/product-definition.md"
    related_concepts:
      - "product_vision"
      - "use_cases"

  # Deployment Workflow (prepare → build → template → deploy)
  deployment_workflow:
    keywords:
      - "워크플로우"
      - "배포 단계"
      - "prepare"
      - "build"
      - "template"
      - "deploy"
      - "배포"
      - "workflow"
      - "deployment steps"
    documents:
      - "docs/00-product/product-spec.md"
      - "docs/02-features/commands.md"
      - "SPEC.md"
    related_concepts:
      - "commands"
      - "app_types"
    note: "기본 4단계 배포 흐름을 의미 (커스텀 워크플로우 기능 아님)"

  # Commands
  commands:
    keywords:
      - "명령어"
      - "prepare"
      - "build"
      - "template"
      - "deploy"
      - "upgrade"
      - "delete"
      - "validate"
      - "state"
      - "commands"
      - "CLI"
    documents:
      - "docs/02-features/commands.md"
      - "docs/00-product/product-spec.md"
      - "AGENTS.md"
    related_concepts:
      - "deployment_workflow"
      - "configuration"

  # Configuration
  configuration:
    keywords:
      - "설정"
      - "config.yaml"
      - "sources.yaml"
      - "Pydantic"
      - "검증"
      - "validation"
      - "configuration"
    documents:
      - "docs/03-configuration/config-schema.md"
      - "docs/00-product/product-spec.md"
      - "sbkube/models/config_model.py"
    related_concepts:
      - "app_types"
      - "validation"

  # Application Types
  app_types:
    keywords:
      - "앱 타입"
      - "pull-helm"
      - "pull-helm-oci"
      - "pull-git"
      - "copy-app"
      - "install-helm"
      - "install-yaml"
      - "install-action"
      - "exec"
      - "app types"
    documents:
      - "docs/02-features/application-types.md"
      - "docs/00-product/product-spec.md"
    related_concepts:
      - "configuration"
      - "deployment_workflow"

  # State Management
  state_management:
    keywords:
      - "상태"
      - "히스토리"
      - "history"
      - "rollback"
      - "SQLAlchemy"
      - "배포 상태"
      - "state"
      - "deployment state"
    documents:
      - "docs/00-product/product-spec.md"
      - "sbkube/state/"
    related_concepts:
      - "commands"
      - "deployment"

  # Helm Integration
  helm:
    keywords:
      - "Helm"
      - "차트"
      - "chart"
      - "릴리스"
      - "release"
      - "values"
    documents:
      - "docs/00-product/product-spec.md"
      - "docs/02-features/application-types.md"
      - "docs/03-configuration/config-schema.md"
    related_concepts:
      - "app_types"
      - "deployment_workflow"

  # Git Integration
  git:
    keywords:
      - "Git"
      - "리포지토리"
      - "repository"
      - "clone"
      - "pull-git"
    documents:
      - "docs/00-product/product-spec.md"
      - "docs/02-features/application-types.md"
    related_concepts:
      - "app_types"
      - "deployment_workflow"

  # YAML Manifests
  yaml:
    keywords:
      - "YAML"
      - "매니페스트"
      - "manifest"
      - "kubectl"
      - "install-yaml"
    documents:
      - "docs/00-product/product-spec.md"
      - "docs/02-features/application-types.md"
    related_concepts:
      - "app_types"
      - "configuration"

  # Architecture
  architecture:
    keywords:
      - "아키텍처"
      - "구조"
      - "설계"
      - "패턴"
      - "architecture"
      - "structure"
      - "design"
      - "pattern"
    documents:
      - "docs/10-modules/sbkube/ARCHITECTURE.md"
      - "docs/02-features/architecture.md"
      - "PRODUCT.md"
    related_concepts:
      - "modules"
      - "implementation"

  # Development
  development:
    keywords:
      - "개발"
      - "기여"
      - "테스트"
      - "코드"
      - "development"
      - "contribution"
      - "test"
      - "code"
    documents:
      - "AGENTS.md"
      - "docs/04-development/README.md"
      - "docs/10-modules/sbkube/MODULE.md"
    related_concepts:
      - "architecture"
      - "testing"

  # Testing
  testing:
    keywords:
      - "테스트"
      - "pytest"
      - "coverage"
      - "단위 테스트"
      - "통합 테스트"
      - "test"
      - "unit test"
      - "integration test"
    documents:
      - "docs/04-development/testing.md"
      - "AGENTS.md"
      - "tests/"
    related_concepts:
      - "development"
      - "quality"

  # Validation
  validation:
    keywords:
      - "검증"
      - "validate"
      - "validator"
      - "Pydantic"
      - "검사"
      - "validation"
    documents:
      - "docs/00-product/product-spec.md"
      - "sbkube/validators/"
    related_concepts:
      - "configuration"
      - "deployment"

  # Deployment
  deployment:
    keywords:
      - "배포"
      - "deploy"
      - "Kubernetes"
      - "k3s"
      - "클러스터"
      - "cluster"
    documents:
      - "docs/00-product/product-spec.md"
      - "docs/05-deployment/README.md"
    related_concepts:
      - "deployment_workflow"
      - "state_management"

  # Troubleshooting
  troubleshooting:
    keywords:
      - "문제"
      - "오류"
      - "해결"
      - "디버깅"
      - "error"
      - "problem"
      - "troubleshoot"
      - "debug"
    documents:
      - "docs/07-troubleshooting/README.md"
      - "docs/10-modules/sbkube/docs/40-maintenance/troubleshooting.md"
    related_concepts:
      - "validation"
      - "debugging"

# Intent-based document routing
intent_routing:
  # "What is SBKube?"
  - intent: "product_overview"
    patterns:
      - "SBKube.*뭔가"
      - "what is SBKube"
      - "프로젝트.*개요"
      - "project overview"
    route:
      - "PRODUCT.md"
      - "docs/00-product/product-definition.md"

  # "How to deploy Helm chart?"
  - intent: "helm_deployment"
    patterns:
      - "Helm.*배포"
      - "deploy.*Helm.*chart"
      - "Helm.*사용"
    route:
      - "docs/00-product/product-spec.md"
      - "docs/02-features/commands.md"
      - "docs/03-configuration/config-schema.md"

  # "How to configure?"
  - intent: "configuration"
    patterns:
      - "설정.*방법"
      - "config.yaml.*작성"
      - "how to configure"
    route:
      - "docs/03-configuration/config-schema.md"
      - "docs/00-product/product-spec.md"
      - "examples/"

  # "Error occurred"
  - intent: "error_handling"
    patterns:
      - "오류.*발생"
      - "error.*occurred"
      - "ValidationError"
      - "문제.*해결"
    route:
      - "docs/07-troubleshooting/README.md"
      - "sbkube/validators/"
      - "sbkube/exceptions.py"

  # "How to implement new feature?"
  - intent: "development"
    patterns:
      - "구현.*방법"
      - "새.*기능.*추가"
      - "how to implement"
      - "add new feature"
    route:
      - "AGENTS.md"
      - "docs/04-development/README.md"
      - "docs/10-modules/sbkube/ARCHITECTURE.md"

# Document relationships (graph)
relationships:
  "PRODUCT.md":
    depends_on: []
    referenced_by:
      - "CONTEXT_MAP.md"
      - "docs/00-product/product-definition.md"
      - "AGENTS.md"

  "docs/00-product/product-definition.md":
    depends_on:
      - "PRODUCT.md"
    referenced_by:
      - "docs/00-product/product-spec.md"
      - "docs/00-product/target-users.md"

  "docs/00-product/product-spec.md":
    depends_on:
      - "docs/00-product/product-definition.md"
    referenced_by:
      - "docs/02-features/commands.md"
      - "docs/02-features/application-types.md"

  "AGENTS.md":
    depends_on:
      - "PRODUCT.md"
    referenced_by:
      - "docs/04-development/README.md"
      - "docs/10-modules/sbkube/MODULE.md"

# Semantic search hints
search_hints:
  high_priority:
    - "PRODUCT.md"
    - "docs/00-product/"
    - "AGENTS.md"

  code_implementation:
    - "sbkube/"
    - "tests/"

  user_guides:
    - "docs/01-getting-started/"
    - "docs/02-features/"
    - "docs/03-configuration/"

  troubleshooting:
    - "docs/07-troubleshooting/"
    - "sbkube/validators/"
    - "sbkube/exceptions.py"
