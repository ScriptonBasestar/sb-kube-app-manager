# App-Group Management Example Configuration
# Demonstrates Phase 1-7 features: app-group classification, dependency tracking, health monitoring

namespace: demo

apps:
  # ===================================================================
  # App-Group: app-000-infra-network
  # Priority: 000 (highest - infrastructure)
  # Category: infra
  # Purpose: Network infrastructure (CNI)
  # ===================================================================
  app-000-infra-network:
    type: helm
    enabled: true
    chart: cilium/cilium
    version: "1.14.5"
    release_name: cilium
    values:
      - cilium.yaml
    # No dependencies - root of dependency tree

  # ===================================================================
  # App-Group: app-010-data-postgresql
  # Priority: 010 (data layer)
  # Category: data
  # Purpose: PostgreSQL operator for database management
  # ===================================================================
  app-010-data-postgresql:
    type: helm
    enabled: true
    chart: cloudnative-pg/cloudnative-pg
    version: "0.20.0"
    release_name: cloudnative-pg
    values:
      - postgresql.yaml
    # Depends on network infrastructure
    depends_on:
      - app-000-infra-network

  # ===================================================================
  # App-Group: app-020-app-backend
  # Priority: 020 (application layer)
  # Category: app
  # Purpose: Backend application (example)
  # ===================================================================
  app-020-app-backend:
    type: yaml
    enabled: true
    manifests:
      - manifests/backend
    # Depends on data layer
    depends_on:
      - app-010-data-postgresql
